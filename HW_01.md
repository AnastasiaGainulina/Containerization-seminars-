# Контейнеризация (семинары)
## Урок 1. Механизмы пространства имен
### Задание:
необходимо продемонстрировать изоляцию одного и того же приложения (как решено на семинаре - командного интерпретатора) в различных пространствах имен.

### Формат сдачи ДЗ:
предоставить доказательства выполнения задания посредством ссылки на google-документ с правами на комментирование/редактирование.
Результатом работы будет: текст объяснения, логи выполнения, история команд и скриншоты (важно придерживаться такой последовательности).
В названии работы должны быть указаны ФИ, номер группы и номер урока.

- Запустим Bash в новом пространстве имен командой (так как команда требует привилегии суперпользователя, то выполняем через sudo):
-![2023-05-25_18-49-37](https://github.com/AnastasiaGainulina/Containerization-seminars-/assets/109802756/e342c9a3-87b7-4b5b-8ff1-2a9ab2b5eb55)
sudo unshare -pf -n --mount-proc bash


В параллельном терминале смотрим, что произошло (наглядно):
ps -afx![2023-05-25_18-53-44](https://github.com/AnastasiaGainulina/Containerization-seminars-/assets/109802756/a1277845-ad8c-4372-87e7-80b87c460066)
Наблюдаем несколько родительских процессов, которые породили одинаковые процессы Bash. Заметим, что PID у нового процесса 4243.
![2023-05-25_18-54-26](https://github.com/AnastasiaGainulina/Containerization-seminars-/assets/109802756/f1400a05-c099-4566-a9d6-e76c5bddb73c)


Для проверки и наглядности смотрим той же командой ps -afx в изолированном терминале
![2023-05-25_18-59-14](https://github.com/AnastasiaGainulina/Containerization-seminars-/assets/109802756/c54c54d2-0911-4a2b-8d79-4253c46c8ae6)
Здесь мы сожем видеть, что изолированная оболочка видит всего два процесса (и то, второй процесс сразу же, после выполнения команды, исчезнет). При этом PID процессов начинается с 1.

- Далее, из этого же терминала, пробуем запустить пинг любого сайта, например ya.ru.
-![2023-05-25_19-02-24](https://github.com/AnastasiaGainulina/Containerization-seminars-/assets/109802756/e97c23bf-ac79-4f4b-a3e7-4b14d0f0cf89)

Видим, что пинг до указанного сайта не может быть осуществлен, так как сеть в этом пронстранстве имен имеется только локальная, т.е. localhost.

А теперь, ту же команду запустим из параллельного терминала (котоый не изолирован)
![2023-05-25_19-09-12](https://github.com/AnastasiaGainulina/Containerization-seminars-/assets/109802756/88060eaa-9274-414e-91b7-586ef4649e97)

Видим, что пакеты до сайта уходят нормально и ответ от сервера принимается


- Теперь, в оба терминала отправляем команду $ hostname, что бы увидеть наш хост

![2023-05-25_19-12-09](https://github.com/AnastasiaGainulina/Containerization-seminars-/assets/109802756/e28ca7f3-bae3-44c6-9c8d-f8ca04c27120)
Как мы можем заметить - хоcт и там и там одинаков. А теперь, в изолированном терминале выполняем команду:

sudo unshare -u bash

Команда $ unshare запускает программу (опционально) в новом namespace.
Флаг -u говорит ей запустить bash в новом UTS namespace. 
Наш новый процесс bash указывает на другой файл UTS, тогда как все остальные остаются прежними.

Одним из следствий того, что мы только что проделали, является то, что теперь мы можем изменить 
системный hostname из нашего нового процесса bash и это не повлияет ни на какой другой процесс в системе. 
Изменим наш хост в изолированном терминале, например:

hostname geekbrains
Эта команда никак не затронула хост основной системы. Можем проверить это, выполнив hostname в первом терминале и увидев, что имя хоста там не изменилось.

![2023-05-25_19-19-23](https://github.com/AnastasiaGainulina/Containerization-seminars-/assets/109802756/9a0814f5-d33d-42d4-9f73-d85743d21a8a)

Этими манипуляциями мы доказали, что научились запускать процессы в разных namespace с возможностью опционально изолировать нужные нам направления.

